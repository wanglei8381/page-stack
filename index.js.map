{"version":3,"file":"index.js","sources":["src/base-page.js","src/decode.js","src/utils.js","src/route.js","src/page-stack.js","src/index.js"],"sourcesContent":["export default function createBasePageOptions (pageStack, model) {\n  return {\n    created () {\n      model.onLoad(pageStack.router.params)\n    },\n    beforeMount () {\n      model.onShow()\n    },\n    mounted () {\n      model.onReady()\n    },\n    destroyed () {\n      model.onUnload()\n    }\n  }\n}\n","/* eslint-disable */\nfunction hasOwnProperty (obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nexport function decode (qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n      idx = x.indexOf(eq),\n      kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (Array.isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n","export const noop = () => {}\n\nexport const inBrowser = typeof window !== 'undefined'\n\nexport const remove = (arr, key) => {\n  if (arr == null || arr.length === 0) return\n  const index = arr.indexOf(key)\n  if (index > -1) {\n    arr.splice(index, 1)\n  }\n}\n","/* global wx */\nimport { decode } from './decode'\nimport {\n  inBrowser,\n  noop\n} from './utils'\n\nexport function initRoute (pageStack, pathMap) {\n  // 保留当前页面，跳转到应用内的某个页面\n  const navigateTo = options => {\n    routeHandler(options, 'navigateTo')\n  }\n\n  // 关闭当前页面，跳转到应用内的某个页面\n  const redirectTo = options => {\n    routeHandler(options, 'redirectTo')\n  }\n\n  // 跳转到 tabBar 页面，并关闭其他所有非 tabBar 页面\n  const switchTab = options => {\n    routeHandler(options, 'switchTab')\n  }\n\n  // 关闭当前页面，返回上一页面或多级页面\n  const navigateBack = options => {\n    pageStack.navigateBack(options)\n  }\n\n  // 关闭当前页面，返回上一页面或多级页面\n  const reLaunch = options => {\n    routeHandler(options, 'reLaunch')\n  }\n\n  function routeHandler (options, method) {\n    const { url, success = noop, fail = noop, complete = noop } = options\n    if (url == null) {\n      console.error('url字段为空')\n      return\n    }\n    const urls = url.split('?')\n    const path = urls[0]\n    const page = pathMap[path]\n    if (!page) {\n      console.error('页面切换失败，' + path + '路径不存在')\n      return\n    }\n    const name = page.name\n    if (name === pageStack.router.name) {\n      console.log('同一个页面不需要切换')\n      return\n    }\n    const params = decode(urls[1])\n    pageStack[method]({\n      path,\n      name,\n      params,\n      success,\n      fail,\n      complete\n    })\n  }\n\n  // 挂载到window.wx上\n  if (inBrowser && window.wx) {\n    wx.navigateTo = navigateTo\n    wx.redirectTo = redirectTo\n    wx.switchTab = switchTab\n    wx.navigateBack = navigateBack\n    wx.reLaunch = reLaunch\n  }\n}\n","import basePage from './base-page'\nimport { initRoute } from './route'\nimport { remove } from './utils'\nexport const pageStack = (Vue, pages, models) => {\n  // 当前组件的实例\n  let pageStack\n\n  const pathMap = Object.create(null)\n  const nameMap = Object.create(null)\n  pages.forEach((page) => {\n    pathMap[page.path] = page\n    nameMap[page.name] = page\n  })\n\n  // 对已经定义的页面组件进行扩展，添加生命周期钩子函数\n  const expandPageComponent = (vm) => {\n    pages.forEach(({ name, path }) => {\n      const PageComponent = Vue.component(name)\n      const PageExtendComponent = PageComponent.extend(basePage(vm, models[path]))\n      Vue.component(name, PageExtendComponent)\n    })\n  }\n\n  function destroyPageComponent (cache, stack, name) {\n    const vnode = cache[name]\n    if (vnode) {\n      vnode.componentInstance.$destroy()\n    }\n    cache[name] = null\n    remove(stack, name)\n  }\n\n  return {\n    name: 'page-stack',\n\n    abstract: true,\n\n    beforeCreate () {\n      if (pageStack) {\n        console.error('page-stack组件只能使用一次，多个挂载点将导致路由混乱')\n      }\n      pageStack = this\n      initRoute(this, pathMap)\n      expandPageComponent(this)\n    },\n\n    created () {\n      this.cache = Object.create(null)\n      const page = pages[0]\n      this.router = {\n        path: page.path,\n        params: {},\n        name: page.name\n      }\n      this.stack = []\n    },\n\n    destroyed () {\n      this.batchDestroyed(this.stack)\n    },\n\n    methods: {\n      update () {\n        this.$forceUpdate()\n        if (this.cache[this.router.name]) {\n          this.$nextTick(() => {\n            models[this.router.path].onShow()\n          })\n        }\n      },\n\n      batchDestroyed (stack) {\n        for (let i = stack.length - 1; i >= 0; i--) {\n          const name = stack[i]\n          models[nameMap[name].path].onHide()\n          destroyPageComponent(this.cache, this.stack, name)\n        }\n      },\n\n      navigateTo (options) {\n        models[this.router.path].onHide()\n        this.router = options\n        this.update()\n      },\n\n      redirectTo (options) {\n        const { path, name } = this.router\n        models[path].onHide()\n        destroyPageComponent(this.cache, this.stack, name)\n        this.router = options\n        this.update()\n      },\n\n      switchTab (options) {\n        const stack = this.stack.slice()\n        const tabBars = []\n        const pageNames = []\n        this.stack = []\n        for (let i = 0; i < stack.length; i++) {\n          let name = stack[i]\n          let page = nameMap[name]\n          if (page.tabBar) {\n            tabBars.push(name)\n          } else {\n            pageNames.push(name)\n          }\n        }\n\n        this.batchDestroyed(pageNames)\n        this.stack = tabBars\n        this.router = options\n        this.update()\n      },\n\n      navigateBack (options) {\n        const delta = options.delta || 1\n        const stack = this.stack\n        if (delta > this.stack.length) {\n          const page = pages[0]\n          this.router = {\n            path: page.path,\n            params: {},\n            name: page.name\n          }\n        } else {\n          const length = stack.length - 1\n          const min = length - delta\n          const path = nameMap[stack[min]].path\n          for (let i = length; i > min; i--) {\n            const name = stack[i]\n            models[nameMap[name].path].onHide()\n            destroyPageComponent(this.cache, this.stack, name)\n          }\n          this.router = {\n            path,\n            params: {},\n            name\n          }\n        }\n\n        this.update()\n      },\n\n      reLaunch (options) {\n        const stack = this.stack.slice()\n        this.stack = []\n        this.batchDestroyed(stack)\n        this.router = options\n        this.update()\n      }\n    },\n\n    render (h) {\n      const cache = this.cache\n      const stack = this.stack\n      const name = this.router.name\n      let vnode = cache[name]\n      if (!vnode) {\n        vnode = cache[name] = h(name)\n      } else {\n        remove(stack, name)\n      }\n      stack.push(name)\n      vnode.data.keepAlive = true\n      return vnode\n    }\n  }\n}\n","import { pageStack } from './page-stack'\n\nconst wxAppLifecycleHooks = [\n  'onInit',\n  'onLoad',\n  'onReady',\n  'onShow',\n  'onHide',\n  'onUnload',\n  'onPullDownRefresh',\n  'onReachBottom'\n]\n\nconst noop = () => {}\n\n/*\n pages和option的格式\n\n name是页面组件的名字，path是对应的小程序页面地址，tabBar是在小程序tabBar列表中的页面\n pages: [\n  {name: 'PagesIndexIndex', path: 'pages/index/index', tabBar: true},\n  {name: 'PagesLogsLogs', path: 'pages/logs/logs'}\n ],\n\n key是对应的小程序页面地址，value是小程序Page的options\n models: {\n  'pages/index/index': indexOptions,\n  'pages/logs/logs': logsOptions\n }\n */\nexport default function (Vue, options) {\n  const pages = options.pages\n  const models = options.models\n  for (let key in models) {\n    const model = models[key]\n    wxAppLifecycleHooks.forEach(hook => {\n      if (!model[hook]) {\n        model[hook] = noop\n      }\n    })\n  }\n  Vue.component('page-stack', pageStack(Vue, pages, models))\n}\n"],"names":["createBasePageOptions","pageStack","model","onLoad","router","params","onShow","onReady","onUnload","hasOwnProperty","obj","prop","Object","prototype","call","decode","qs","sep","eq","options","length","regexp","split","maxKeys","len","i","x","replace","idx","indexOf","kstr","vstr","k","v","substr","decodeURIComponent","Array","isArray","push","noop","inBrowser","window","remove","arr","key","index","splice","initRoute","pathMap","navigateTo","redirectTo","switchTab","navigateBack","reLaunch","routeHandler","method","url","success","fail","complete","error","urls","path","page","name","log","wx","Vue","pages","models","create","nameMap","forEach","expandPageComponent","vm","PageComponent","component","PageExtendComponent","extend","basePage","destroyPageComponent","cache","stack","vnode","componentInstance","$destroy","batchDestroyed","$forceUpdate","$nextTick","onHide","update","slice","tabBars","pageNames","tabBar","delta","min","h","data","keepAlive","wxAppLifecycleHooks","hook"],"mappings":"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"}